{
    "name": "MO Aramex Shipping Integration",
    "slug": "mo-aramex-shipping-integration",
    "version": "1.0.52",
    "tested": "6.4",
    "requires": "5.3",
    "requires_php": "7.4",
    "last_updated": "2025-01-22",
    "homepage": "https://github.com/MakiOmar/Aramex-Woocommerce-api-integration",
    "author": "Mohammad Omar",
    "author_profile": "https://github.com/MakiOmar",
    "download_url": "https://github.com/MakiOmar/Aramex-Woocommerce-api-integration/archive/refs/heads/master.zip",
    "sections": {
        "description": "Professional Aramex shipping integration for WooCommerce with advanced features. This plugin provides seamless integration with Aramex Express shipping services, allowing you to create shipments, print labels, track orders, and manage bulk operations directly from your WooCommerce store.",
        "installation": "1. Upload the plugin files to the /wp-content/plugins/mo-aramex-shipping-integration directory, or install the plugin through the WordPress plugins screen directly.\n2. Activate the plugin through the 'Plugins' screen in WordPress\n3. Use the WooCommerce > Settings > Shipping > MO Aramex Shipping screen to configure the plugin\n4. Enter your Aramex API credentials to start using the plugin",
        "changelog": "<h4>Version 1.0.52</h4>\n<ul>\n<li>CRITICAL FIX: Removed duplicate getInfo() call causing ArgumentCountError</li>\n<li>Reuse helper_info variable from earlier in method for better efficiency</li>\n<li>Fixed fatal error on line 244 preventing return pickups</li>\n<li>Optimized code by eliminating redundant API settings retrieval</li>\n</ul>\n\n<h4>Version 1.0.51</h4>\n<ul>\n<li>Fixed HTML structure in bulk return template</li>\n<li>Removed extra closing divs that were breaking page structure</li>\n<li>Removed unused static loader div (created dynamically instead)</li>\n<li>Cleaned up template for better performance</li>\n</ul>\n\n<h4>Version 1.0.50</h4>\n<ul>\n<li>CRITICAL FIX: Fixed ArgumentCountError in getInfo() method</li>\n<li>Pass nonce parameter to getInfo() method in return pickup functionality</li>\n<li>Resolved fatal error preventing return pickups from working</li>\n</ul>\n\n<h4>Version 1.0.49</h4>\n<ul>\n<li>CRITICAL FIX: Fixed return pickup fatal error</li>\n<li>Corrected numberOfPieces to 1 per order instead of total order count</li>\n<li>Fixed API validation issue causing critical errors</li>\n<li>Return pickups now work correctly for multiple orders</li>\n</ul>\n\n<h4>Version 1.0.48</h4>\n<ul>\n<li>Removed pickup prompts for streamlined UX</li>\n<li>Smart defaults: Pickup location always 'Home', one piece per order</li>\n<li>Auto-generated pickup comments with order IDs</li>\n<li>Instant return pickup creation without user interruption</li>\n<li>Improved user experience - just select and click</li>\n</ul>\n\n<h4>Version 1.0.47</h4>\n<ul>\n<li>Enhanced return pickup data flow with detailed logging</li>\n<li>Return pickups now correctly use customer address for pickup location</li>\n<li>Return destination automatically routes to store via ExistingShipments reference</li>\n<li>Added comprehensive logging showing AWB, customer, pickup address, and store account</li>\n<li>Improved fallback logic for customer name and address fields</li>\n<li>Clarified code comments explaining return shipment flow</li>\n</ul>\n\n<h4>Version 1.0.46</h4>\n<ul>\n<li>Added bulk return shipment (CreatePickup) functionality</li>\n<li>New 'Create Return Pickup' option in Aramex Actions dropdown</li>\n<li>Automatically retrieves AWB numbers from existing shipments</li>\n<li>Respects test/live mode with correct API endpoints</li>\n<li>Uses customer address and contact info from original order</li>\n<li>Prompts for pickup location, number of pieces, and comments</li>\n<li>Stores pickup GUID and ID as order meta</li>\n<li>Adds order note with pickup details</li>\n<li>Supports both domestic (RTC) and international (EPX) returns</li>\n<li>Full JSON/REST API implementation with comprehensive logging</li>\n</ul>\n\n<h4>Version 1.0.45</h4>\n<ul>\n<li>CRITICAL FIX: Resolved 404 error on PDF download</li>\n<li>Added 3-second delay before cleanup call to allow browser to start download</li>\n<li>PDF file now persists long enough for download to initiate</li>\n<li>Cleanup still happens automatically after download starts</li>\n</ul>\n\n<h4>Version 1.0.44</h4>\n<ul>\n<li>Added comprehensive console debugging for print label process</li>\n<li>Logs raw response, parsed response, pdfData, and fileUrl to console</li>\n<li>Added AJAX error handler with detailed error logging</li>\n<li>Console will show exactly what's being returned and where it's failing</li>\n</ul>\n\n<h4>Version 1.0.43</h4>\n<ul>\n<li>Fully restored working print label functionality with loading indicator</li>\n<li>Loading indicator now properly integrated without breaking PDF generation</li>\n<li>Shows professional overlay with Aramex loader during print process</li>\n<li>Auto-hides loader on completion or failure</li>\n<li>Fixed all JavaScript syntax and structure issues</li>\n</ul>\n\n<h4>Version 1.0.42</h4>\n<ul>\n<li>Fixed JavaScript syntax error that was breaking PDF generation</li>\n<li>Removed extra braces and fixed code structure</li>\n<li>Corrected indentation in print label JavaScript</li>\n<li>Print label now works properly with loading indicator</li>\n<li>Removed default background color from dropdown menu items</li>\n</ul>\n\n<h4>Version 1.0.41</h4>\n<ul>\n<li>Added professional loading indicator for print label process</li>\n<li>Fullscreen overlay with Aramex loader animation and progress messages</li>\n<li>Loader only shows on initial call, not when deleting temporary PDFs</li>\n<li>Auto-hides on error or when no PDFs are generated</li>\n<li>Uses aramex_loader.gif for brand consistency</li>\n<li>Print functionality preserved - no breaking changes</li>\n</ul>\n\n<h4>Version 1.0.40</h4>\n<ul>\n<li>Version bump for production release</li>\n</ul>\n\n<h4>Version 1.0.39</h4>\n<ul>\n<li>Added unified 'Aramex Actions' dropdown menu replacing separate buttons</li>\n<li>Dropdown includes: Create Bulk Shipment and Print Bulk Labels</li>\n<li>Added Dashicons icons: package for shipment, printer for labels</li>\n<li>Dropdown auto-closes when clicking outside or selecting an action</li>\n<li>Used event delegation for dynamic button binding</li>\n<li>Professional styling with hover effects and smooth interactions</li>\n<li>Cleaner UI - single dropdown instead of multiple buttons</li>\n</ul>\n\n<h4>Version 1.0.37</h4>\n<ul>\n<li>Fixed 404 redirect error when bulk print label fails or produces no PDFs</li>\n<li>Added validation: only redirect to PDF if file exists on server</li>\n<li>Improved JavaScript: checks both file_path and file_url before redirecting</li>\n<li>Shows alert and hides loader when print label fails instead of redirecting to 404</li>\n<li>Fixed typo: 'Falied' to 'Failed' in alert messages</li>\n<li>Added output logging for debugging bulk print label results</li>\n</ul>\n\n<h4>Version 1.0.36</h4>\n<ul>\n<li>Improved PDF download reliability: replaced fopen with wp_remote_get for better error handling</li>\n<li>Added comprehensive logging for each step of PDF download and merge process</li>\n<li>Added validation: checks if PDFs exist before merging and after downloading</li>\n<li>Logs PDF sizes and file paths for debugging 404 errors</li>\n<li>Better error messages for failed PDF downloads and empty content</li>\n<li>Enhanced PDF merge error handling with detailed exception logging</li>\n</ul>\n\n<h4>Version 1.0.35</h4>\n<ul>\n<li>Migrated bulk print label from SOAP to REST/JSON API</li>\n<li>Print label now respects test/live mode using correct endpoints</li>\n<li>Test endpoint: ws.sbx.aramex.net/shippingapi.v2/shipping/service_1_0.svc/json/PrintLabel</li>\n<li>Live endpoint: ws.aramex.net/shippingapi.v2/shipping/service_1_0.svc/json/PrintLabel</li>\n<li>Fixed 'Could not connect to host' errors in bulk print label</li>\n<li>Added validation for empty label URLs in response</li>\n</ul>\n\n<h4>Version 1.0.34</h4>\n<ul>\n<li>Fixed bulk print label functionality to read AWB numbers from order meta</li>\n<li>Simplified AWB extraction: checks order meta first, then falls back to parsing comments</li>\n<li>Added comprehensive error handling and logging for print label operations</li>\n<li>Fixed code structure issues that were preventing print label from working</li>\n<li>Added logging for orders without AWB numbers for easier debugging</li>\n</ul>\n\n<h4>Version 1.0.33</h4>\n<ul>\n<li>Updated tracking URL to correct Aramex format</li>\n<li>Changed from /track/results?mode=0&shipNo= to /ae/en/track/results?source=aramex&ShipmentNumber=</li>\n<li>Tracking link now uses official Aramex tracking URL format</li>\n</ul>\n\n<h4>Version 1.0.32</h4>\n<ul>\n<li>Added Aramex Shipment Information meta box to order edit page</li>\n<li>Display AWB number, shipment type (DOM/EXP), and label download link on order page</li>\n<li>Fixed AWB storage to use already-extracted shipmentID variable</li>\n<li>Added logging for AWB, label URL, and product group storage for debugging</li>\n<li>Meta box shows tracking link and PDF download button</li>\n<li>Supports both legacy and HPOS (High-Performance Order Storage)</li>\n</ul>\n\n<h4>Version 1.0.31</h4>\n<ul>\n<li>Store shipment label URL (PDF) as order meta for future reference</li>\n<li>Store product group (DOM/EXP) as order meta</li>\n<li>Fixed AWB number extraction to use correct response format</li>\n<li>Label URL accessible via order meta: aramex_label_url</li>\n<li>Product group accessible via order meta: aramex_product_group</li>\n</ul>\n\n<h4>Version 1.0.30</h4>\n<ul>\n<li>Fixed ERR51 for Shipper in international shipments</li>\n<li>Ensured Shipper.AccountNumber matches ClientInfo.AccountNumber</li>\n<li>Shipper credentials now respect sandbox mode (test/live) same as ClientInfo and ThirdParty</li>\n<li>Resolves account mismatch errors for both domestic and international shipments</li>\n</ul>\n\n<h4>Version 1.0.29</h4>\n<ul>\n<li>Fixed log download functionality that was causing page reloads</li>\n<li>Changed from AJAX handler to admin_init hook for proper file download</li>\n<li>Download now triggers file download instead of reloading the page</li>\n</ul>\n\n<h4>Version 1.0.28</h4>\n<ul>\n<li>Fixed response parsing to correctly extract ProductGroup from Shipments[0] array format</li>\n<li>Updated AWB number and order reference extraction to support array response format</li>\n<li>Prioritizes Shipments[0] format over ProcessedShipment object format for better compatibility</li>\n<li>Ensures ProductGroup (DOM/EXP) is correctly extracted from actual API response structure</li>\n</ul>\n\n<h4>Version 1.0.27</h4>\n<ul>\n<li>Success message now displays ProductGroup (Domestic/International) from API response instead of request data</li>\n<li>Extracts ProductGroup from Shipments.ProcessedShipment.ShipmentDetails for accurate display</li>\n<li>Ensures displayed shipment type reflects what was actually created by Aramex API</li>\n</ul>\n\n<h4>Version 1.0.26</h4>\n<ul>\n<li>Fixed ERR51: Account Number differs from ClientInfo error</li>\n<li>Ensured ThirdParty.AccountNumber matches ClientInfo.AccountNumber when PaymentType is Third Party</li>\n<li>ThirdParty credentials now respect sandbox mode (test/live) same as ClientInfo</li>\n<li>Fixed issue where ThirdParty always used live credentials even in test mode</li>\n</ul>\n\n<h4>Version 1.0.25</h4>\n<ul>\n<li>Fixed empty string to double deserialization error for numeric fields</li>\n<li>Ensured CustomsValueAmount.Value is cast to float and only included when valid</li>\n<li>Cast CashOnDeliveryAmount.Value to float for proper type handling</li>\n<li>Cast ReportID to integer to prevent type errors</li>\n<li>Fixed domestic shipments to read custom amount from form field instead of hardcoding to empty string</li>\n<li>CustomsValueAmount now properly included in JSON for both DOM and EXP shipments when provided</li>\n</ul>\n\n<h4>Version 1.0.24</h4>\n<ul>\n<li>Added pretty-printed JSON payload logging for manual API testing</li>\n<li>JSON now logged with JSON_PRETTY_PRINT, JSON_UNESCAPED_UNICODE, and JSON_UNESCAPED_SLASHES flags</li>\n<li>Enhanced debugging with formatted JSON for easy copy-paste to Postman or other API testing tools</li>\n<li>Added json_payload to API call logging context for better troubleshooting</li>\n</ul>\n\n<h4>Version 1.0.23</h4>\n<ul>\n<li>Aligned CreateShipments request structure with working JSON payload</li>\n<li>Changed Items from wrapped 'ShipmentItem' array to flat array with PackageType, Comments, Reference</li>\n<li>Flattened AdditionalProperties to direct array (not wrapped in 'AdditionalProperty')</li>\n<li>Added ChargeableWeight field alongside ActualWeight for compliance</li>\n<li>Updated Dimensions to use numeric values instead of strings</li>\n<li>Removed obsolete PieceDimensions from Details</li>\n<li>Updated Item structure to match API: PackageType, Quantity, Weight, Comments, Reference</li>\n</ul>\n\n<h4>Version 1.0.22</h4>\n<ul>\n<li>Fixed bulk shipment payload to prevent sending empty shipments array</li>\n<li>Ensured ClientInfo and LabelInfo are only included if valid data is present</li>\n<li>Improved error handling for empty shipment data before API call</li>\n</ul>\n\n<h4>Version 1.0.21</h4>\n<ul>\n<li>Re-added ClientInfo.Source parameter to API requests to resolve HTTP 400 errors</li>\n<li>Ensured ClientInfo.Source is set to 52 as required by the Aramex API</li>\n</ul>\n\n<h4>Version 1.0.20</h4>\n<ul>\n<li>Updated CreateShipments to use /Date(ms+offset)/ format for ShippingDateTime and DueDate</li>\n<li>Ensured AdditionalProperties are included only when present and have 'CategoryName'</li>\n</ul>\n\n<h4>Version 1.0.12</h4>\n<ul>\n<li>CRITICAL FIX: Updated Aramex API endpoints to use correct .v2 URLs</li>\n<li>Fixed test WSDL: ws.dev.aramex.net/shippingapi.v2/shipping/service_1_0.svc</li>\n<li>Fixed live WSDL: ws.aramex.net/shippingapi.v2/shipping/service_1_0.svc</li>\n<li>Resolved 'Could not connect to host' errors</li>\n<li>Updated network connectivity test to use correct endpoints</li>\n<li>Added ARAMEX_Test_README.md and ARAMEX_Live_README.md for reference</li>\n<li>Endpoints were missing .v2 in the API path as per official documentation</li>\n</ul>\n\n<h4>Version 1.0.11</h4>\n<ul>\n<li>Added comprehensive network connectivity testing for Aramex servers</li>\n<li>Enhanced SOAP client with proper timeout and SSL configuration</li>\n<li>Added DNS resolution testing for ws.aramex.net and ws-sandbox.aramex.net</li>\n<li>Added port connectivity testing for HTTPS (443)</li>\n<li>Added HTTPS connectivity testing with proper SSL context</li>\n<li>Added cURL functionality testing</li>\n<li>Improved error handling for network-related issues</li>\n<li>Enhanced troubleshooting for 'Could not connect to host' errors</li>\n</ul>\n\n<h4>Version 1.0.10</h4>\n<ul>\n<li>Added comprehensive debugging for bulk shipment API calls</li>\n<li>Enhanced SOAP client creation error handling</li>\n<li>Added detailed exception logging with stack traces</li>\n<li>Improved API response logging debugging</li>\n<li>Added logging for WSDL URL and request data</li>\n<li>Enhanced error tracking for troubleshooting API issues</li>\n</ul>\n\n<h4>Version 1.0.9</h4>\n<ul>\n<li>Fixed WooCommerce 3.0+ deprecation warnings</li>\n<li>Replaced direct order property access with getter methods</li>\n<li>Updated all order property calls to use modern WooCommerce API</li>\n<li>Improved compatibility with latest WooCommerce versions</li>\n<li>Eliminated 'Order properties should not be accessed directly' warnings</li>\n</ul>\n\n<h4>Version 1.0.8</h4>\n<ul>\n<li>Removed automatic bulk shipment form submission</li>\n<li>Users now must manually click 'Create Bulk Shipment' button</li>\n<li>Provides better control over shipment creation process</li>\n<li>Prevents accidental submissions</li>\n</ul>\n\n<h4>Version 1.0.7</h4>\n<ul>\n<li>Fixed multiple fatal errors that were preventing plugin activation</li>\n<li>Corrected settings file path in shipping method class</li>\n<li>Fixed incorrect include path in bulk class (../../core/ -> ../core/)</li>\n<li>Updated Aramex_Helper references to MO_Aramex_Helper in bulk class</li>\n<li>Added missing getInfo() method to MO_Aramex_Helper class</li>\n<li>Fixed class loading order issues that were causing fatal errors</li>\n<li>Ensured all required classes are loaded before they're used</li>\n<li>Improved plugin stability and reliability</li>\n</ul>\n\n<h4>Version 1.0.6</h4>\n<ul>\n<li>Added enhanced debugging for AJAX registration and execution</li>\n<li>Fixed constructor to call parent::__construct() for proper initialization</li>\n<li>Added test AJAX action to verify AJAX registration functionality</li>\n<li>Added error_log to run method to verify method execution</li>\n<li>Added test AJAX call in frontend to verify AJAX functionality</li>\n<li>Enhanced debugging to identify AJAX registration issues</li>\n<li>Added logging to load_aramex_classes method for troubleshooting</li>\n<li>Improved class instantiation and method execution verification</li>\n</ul>\n\n<h4>Version 1.0.5</h4>\n<ul>\n<li>Added comprehensive debugging for bulk shipment AJAX 400 error</li>\n<li>Enhanced AJAX action registration with immediate loading</li>\n<li>Added frontend JavaScript console logging for debugging</li>\n<li>Added AJAX error handling with detailed error messages</li>\n<li>Added constructor logging to bulk class for troubleshooting</li>\n<li>Enhanced debugging to identify why run() method is not executing</li>\n<li>Added console logging for AJAX request data and responses</li>\n<li>Improved AJAX registration timing for better reliability</li>\n</ul>\n\n<h4>Version 1.0.4</h4>\n<ul>\n<li>Fixed the_aramex_bulk AJAX 400 error by correcting nonce verification</li>\n<li>Added missing formatPost method to MO_Aramex_Helper class</li>\n<li>Enhanced debugging with detailed logging for bulk shipment requests</li>\n<li>Fixed nonce verification for AJAX requests (use wp_verify_nonce instead of check_admin_referer)</li>\n<li>Added user ID and email logging for troubleshooting</li>\n<li>Improved bulk shipment functionality with proper data formatting</li>\n<li>Enhanced error handling and logging for bulk operations</li>\n<li>Fixed data sanitization and validation for bulk shipment forms</li>\n</ul>\n\n<h4>Version 1.0.3</h4>\n<ul>\n<li>Fixed PHP Fatal error with getVcsApi() method for custom update servers</li>\n<li>Enhanced admin notice to properly handle custom update server detection</li>\n<li>Updated debug class with proper error handling for VCS API calls</li>\n<li>Added method existence checks to prevent fatal errors</li>\n<li>Improved update checker compatibility with custom update servers</li>\n<li>Enhanced debugging information display for different update server types</li>\n<li>Fixed admin notice display on debug page</li>\n<li>Added graceful fallbacks when VCS API methods are not available</li>\n</ul>\n\n<h4>Version 1.0.2</h4>\n<ul>\n<li>Added comprehensive logging system for all Aramex API calls</li>\n<li>Created date-organized log files (aramex-log-22-9-2025.log format)</li>\n<li>Implemented admin interface for log management and viewing</li>\n<li>Added request/response logging with execution time tracking</li>\n<li>Integrated logging into all API endpoints: CreateShipments, PrintLabel, CalculateRate, TrackShipments, CreatePickup</li>\n<li>Added error logging with detailed context information</li>\n<li>Implemented automatic log rotation and cleanup</li>\n<li>Added security features: .htaccess protection and sensitive data sanitization</li>\n<li>Separate logging system from WordPress debug logs</li>\n<li>Enhanced debugging capabilities for API issues</li>\n<li>Added performance monitoring with memory usage tracking</li>\n<li>Created convenient helper functions for manual logging</li>\n</ul>\n\n<h4>Version 1.0.1</h4>\n<ul>\n<li>Fixed duplicate update checker URLs</li>\n<li>Resolved 404 errors in update checker</li>\n<li>Fixed AJAX 400 errors in bulk shipment</li>\n<li>Fixed PHP Fatal error with setHttpFilter method</li>\n<li>Improved error handling and logging</li>\n<li>Enhanced debug page functionality</li>\n<li>Added comprehensive debugging tools</li>\n<li>Improved bulk shipment error handling</li>\n<li>Set default values for bulk forms</li>\n<li>Auto-submit functionality for forms</li>\n<li>Removed conflicting updater class</li>\n<li>Proper GitHub repository integration</li>\n<li>Enhanced error handling with try-catch blocks</li>\n<li>Added custom logging for debugging</li>\n</ul>\n\n<h4>Version 1.0.0</h4>\n<ul>\n<li>Initial white-labeled release</li>\n<li>Complete rebranding from original Aramex plugin</li>\n<li>Enhanced security features</li>\n<li>Plugin update checker integration</li>\n<li>Performance optimizations</li>\n<li>Professional admin interface</li>\n<li>Comprehensive documentation</li>\n</ul>",
        "faq": "<h4>How do I get Aramex API credentials?</h4>\n<p>Please contact Mohammad Omar at maki3omar@gmail.com to obtain your Aramex API account credentials.</p>\n\n<h4>Does this plugin work with all WooCommerce themes?</h4>\n<p>Yes, this plugin is designed to work with any WordPress theme that supports WooCommerce.</p>\n\n<h4>Can I use this plugin for multiple stores?</h4>\n<p>Yes, you can use the same plugin installation for multiple stores, but each store will need its own Aramex API credentials.</p>\n\n<h4>What are the system requirements?</h4>\n<p>WordPress 5.3+, WooCommerce 3.0+, PHP 7.4+, and SOAP extension enabled.</p>"
    },
    "banners": {
        "low": "https://github.com/MakiOmar/Aramex-Woocommerce-api-integration/raw/master/assets/banner-1544x500.png",
        "high": "https://github.com/MakiOmar/Aramex-Woocommerce-api-integration/raw/master/assets/banner-1544x500.png"
    }
}
